---
layout: post
title:  "Building Railo Extensions Part 2: Setting up a debug environment"
uid:	"BC714A33-8E1D-4A71-879B3CC8B398F188"
date:   2010-07-03 09:12 AM +0000
categories: getrailo
---
<p>In the <a href="/blog/post.cfm/building-an-extension-for-railo-part-1">first part</a> of this series I looked at creating an extension and an extension provider which suited my needs. </p>
<p>In this post I shall be looking at getting Railo server into your Eclipse project so that you can debug your code. <br /><br />So that we can keep it all neat and tidy, I am going to create a project in Eclipse, that will contain the source code for the extension, the extension provider, and Jetty running Railo. <br /><br />Why would I put ALL of this in one project you might ask (you might?). I want to be able to debug the server itself, set breakpoints and check variables as I write my code. <br /><br />First off, lets create a Java Project in Eclipse:<br /><br /><a href="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.26.53.png"><img style="margin: 5px" src="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.26.53.png" border="0" alt="" width="500" height="518" /></a><br /><br /><br />Then we remove the src, folder, we shall be changing this later on since we want it all in the web root:<br /><a href="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.26.53.png"><img style="margin: 5px" src="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.28.06.png" border="0" alt="" width="500" height="437" /></a><br /><br /><br />Now we have an empty project with a src folder that isn't our source folder. <br /><br />Next, we are going to download the Railo express version from <a href="http://www.getrailo.org/index.cfm/download/">http://www.getrailo.org/index.cfm/download/ </a>, I got the railo-express version for Mac OSX <br /><br /><img style="margin: 5px" src="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.29.30.png" alt="" width="500" /><br /><br />Once you have downloaded and unzipped it, you should have a directory listing as shown in the screenshot:<br /><br /><a href="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.31.21.png"><img style="margin: 5px" src="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.31.21.png" border="0" alt="" width="500" height="173" /></a><br /><br />Grab those files and drag them into your eclipse project:<br /><br /><img style="margin: 5px" src="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.32.38.png" alt="" width="259" height="322" /><br /><br />Now we need to be able to start the server in a debug mode, but to do this we need to create a User Library which will include all of the JAR files that are used in the Jetty server, so right click on your project, select Build Path -&gt; Add Libraries... :<br /><br /><img style="margin: 5px" src="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.35.51.png" alt="" width="500" height="334" /></p>
<p>Select User Library:<br /><br /><a href="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.36.00.png"><img style="margin: 5px" src="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.36.00.png" border="0" alt="" width="500" height="440" /></a><br /><a href="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.36.10.png"><img style="margin: 5px" src="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.36.10.png" border="0" alt="" width="500" height="440" /></a></p>
<p>Click User Libraries...  and create a New User Library<br /><br /><br /><a href="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.37.00.png"><img style="margin: 5px" src="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.37.00.png" border="0" alt="" width="500" height="422" /></a></p>
<p><br /><br />Now browse to where you created the project, in my case: /Users/markdrew/Documents/workspace_36_demo/Railo_Extension_Development and go into the lib folder to add all the JARs:<br /><br /><a href="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.39.10.png"><img style="margin: 5px" src="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.39.10.png" border="0" alt="" width="500" height="438" /></a><br /><br /><br />You should now have a listing of all the JARS as a new user library:<br /><a href="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.39.17.png"><img style="margin: 5px" src="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.39.17.png" border="0" alt="" width="500" height="433" /></a><br /><br />Click OK<br /><br />Now you should have a new user library called Jetty_and_Railo that you can see in your project:<br /><img style="margin: 5px" src="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.40.49.png" alt="" width="237" height="493" /><br /><br /><br />Now we can create a debug configuration for Jetty so we can start it in a debug mode:<br /><img style="margin: 5px" src="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.34.15.png" alt="" width="280" height="158" /><br />Create a new Java Application configuration:</p>
<p><a href="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.42.08.png"><img style="margin: 5px" src="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.42.08.png" border="0" alt="" width="500" height="354" /></a><br /><br />And now we change the arguments:<br /><br /><a href="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.44.19.png"><img style="margin: 5px" src="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.44.19.png" border="0" alt="" width="500" height="354" /></a><br /><br />And now click apply and Debug.<br /><br />All going well the console should startup with a lot of output and in red you should have something as follows:<br /><br /><a href="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.45.33.png"><img style="margin: 5px" src="/blog/assets/content/Screen%20shot%202010-07-03%20at%203%20Jul%2013.45.33.png" border="0" alt="" width="500" height="184" /></a><br /><br />Now we can try going to http://localhost:8888/ and you should get the Railo Web Administrator, so go ahead and put in your new password for the web and server contexts.<br /><br />If all has gone well, you are now running railo in a Java debug session which is a big way towards our goal!<br /><br />In the next post I shall look at creating a sample extension and debugging it.</p>
<p> </p>
<p> </p>